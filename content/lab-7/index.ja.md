---
title : "ラボ7: 追加の障害実験"
weight : 80
---

これはオプションのラボで、FISをさらに実験してアプリケーションにゾーンの影響を導入し、ゾーンシフトで復旧する方法を試すことができます。以下のようなオプションがあります：

::::alert{type="warning" header="ゾーンシフトを終わらせる"} 
前のラボでゾーンシフトを終了していない場合は、終了してください。
::::

試してみることのできるオプションをいくつか紹介します。

1. パケットロス実験を実行する。
2. 現在、カナリアは3秒のHTTPクライアントタイムアウトを使用するように設定されており、サーバー側のデータベースクライアントは2秒のタイムアウトに設定されています。これは、タイムアウトエラーの場合において（5xx応答となる）、サーバーからカナリアに伝播するのを待つのに十分な時間であることを意味します。カナリアがデータベースよりも先にタイムアウトした場合、メトリクスはどのように見えるでしょうか？パケットロス実験は、カナリアとサーバーの視点から予想した結果を生成しましたか？結果は一致していますか？カナリアのHTTPクライアントタイムアウトは、その環境変数 TIMEOUT を通じて修正できます（例えば、1に設定する）。

![canary-env-var.png](/static/canary-env-var.png)

3. 事前に用意された実験テンプレートでレイテンシの量 (デフォルトは 100 ミリ秒) またはパケット損失 (デフォルトは 30%) を更新し、新しい動作を観察します。レイテンシが追加されるだけでなく、一貫してエラーが発生するには、どの程度のパケット損失が必要でしたか?
4. CPU ストレス テスト実験を実行します。

これらのオプションは、セルフガイド演習として AWS FIS に慣れるためのものです。これらの実験を実行するための具体的な手順はありません。これらのオプションの実験を試さない場合は、まとめに進んでください。
